{
  "rules": {
    ".read": "auth != null",
    ".write": "false",

    "rooms": {
      ".indexOn": ["code", "status"],
      "$roomId": {
        ".read": "auth != null",
        ".write": "auth != null",
        
        "meta": {
          ".write": "root.child('admins').child(auth.uid).exists()"
        },

        "questions": {
          ".write": "root.child('admins').child(auth.uid).exists()"
        },

        "responses": {
          "$responseId": {
            ".write": "auth != null && (newData.child('userId').val() === auth.uid)"
          }
        },

        "control": {
          ".write": "root.child('admins').child(auth.uid).exists()"
        }
      }
    },

    "admins": {
      ".read": "root.child('admins').child(auth.uid).exists()",
      ".write": "false"
    }
  }
}
